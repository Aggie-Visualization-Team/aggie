<p ng-hide="trends.length > 0 ">There are currently no trends. Click 'Create Trend' to make one.</p>

<div id="chartContainer" style="margin: 5px; height: 400px; width: 80%; float: left;">
</div>

<div class="table-actions" style="float:left; width: 200px;">
  <button ng-controller="TrendFormModalController" class="btn btn-info" ng-click="create()">Create Trend</button>

  <div ng-repeat="t in trends | orderBy:['-enabled']" class="legend-item">
    <label>
      <input type="checkbox" ng-model="t.enabled" ng-change="toggleEnabled(t)" ng-checked="{{t.enabled}}">
      <span class="legend-color" style="float: left; content: ''; height: 30px; width: 8px; background-color: {{t.enabled ? t.color : 'lightgrey'}}"></span>
      <span ng-class="{'legend-terms': t.enabled, 'legend-terms-disabled': !t.enabled }">
        <p>{{t.query.keywords | translate}}</p>
        <p ng-show="t.query.sourceType"><strong>Media:</strong> {{t.query.sourceType | translate}} </p>
        <p ng-show="t.query.sourceId"><strong>Source:</strong> {{sourcesById[t.query.sourceId].nickname}} </p>
        <p ng-show="t.query.incidentId"><strong>Incident:</strong> {{incidentsById[t.query.incidentId].title}} </p>
      </span>
      <button class="clear" aggie-confirm="Are you sure you want to delete this trend? (All historical data will be lost)" on-confirm="deleteTrend(t)">&times;</button>
    </label>
  </div>

</div>
